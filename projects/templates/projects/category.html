{% extends 'projects/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/category.css' %}">
{% endblock %}

{% block content %}
<div class="container mx-auto my-8 px-4">

  <div class="flex justify-center">
    <h1 class="custom-heading"><strong>{{ category_name }}</strong></h1>
  </div>

  <p class="text-center text-gray-600 mb-12">
    Bienvenue dans la rubrique {{ category_name }}. Découvrez les projets et travaux .
  </p>

  <div class="grid-container">
    {% for project in projects %}

      <a class="project-card" href="{% url 'project_detail' project.id %}">
        {% if project.image %}
          <div class="project-image-wrap">
            <img
              src="{% static 'images/tech/' %}{{ project.image.name|cut:'projects/' }}"
              alt="{{ project.title }}"
              class="custom-image"
            >
          </div>
        {% else %}
          <div class="project-image-wrap">
            <img
              src="{% static 'images/default.png' %}"
              alt="Image par défaut"
              class="custom-image"
            >
          </div>
        {% endif %}

        <div class="custom-content">
          <h3 class="custom-title">{{ project.title }}</h3>
          <p class="custom-description">{{ project.description|truncatewords:6 }}</p>
          <p class="custom-technologies"><strong>Technologies :</strong> {{ project.technologies }}</p>
        </div>
      </a>

    {% empty %}
      <p class="text-center text-gray-500 col-span-full">Aucun projet mis en ligne pour le moment.</p>
    {% endfor %}
  </div>

</div>
{% endblock %}

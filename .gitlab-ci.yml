stages: [lint, test]

variables:
  PIP_DISABLE_PIP_VERSION_CHECK: "1"
  PYTHONDONTWRITEBYTECODE: "1"
  PYTHONUNBUFFERED: "1"

lint:
  stage: lint
  image: python:3.12
  script:
    - python -m pip install --upgrade pip
    - pip install -r requirements.txt
    - python -m compileall .

test_django:
  stage: test
  image: python:3.12
  script:
    - python -m pip install --upgrade pip
    - pip install -r requirements.txt
    - python manage.py check
